<Window x:Class="NebulaClient.AuthSuccessWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Nebula Authentication" Height="400" Width="550"
        WindowStartupLocation="CenterOwner"
        Background="Transparent"
        AllowsTransparency="True"
        WindowStyle="None"
        ShowInTaskbar="False">
    <Window.Resources>
        <Storyboard x:Key="ButtonUnlock">
            <DoubleAnimation Storyboard.TargetName="ConfirmButton" Storyboard.TargetProperty="Opacity" From="0.3" To="1" Duration="0:0:0.5"/>
        </Storyboard>
    </Window.Resources>

    <Border CornerRadius="20" Background="#0A0A0A" BorderBrush="#1A1A1A" BorderThickness="1" Margin="20">
        <Border.Effect>
            <DropShadowEffect BlurRadius="30" ShadowDepth="0" Color="Black" Opacity="0.8"/>
        </Border.Effect>
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" HorizontalAlignment="Center">
                <Border Width="60" Height="60" CornerRadius="30" Background="#11FFFFFF" Margin="0,0,0,15">
                     <Image Source="pack://application:,,,/Resources/logo.png" Width="30" Opacity="0.8"/>
                </Border>
                <TextBlock Text="AUTHENTICATION SUCCESSFUL" Foreground="White" FontSize="18" FontWeight="ExtraBold" HorizontalAlignment="Center">
                    <TextBlock.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="0" Color="White" Opacity="0.3"/>
                    </TextBlock.Effect>
                </TextBlock>
            </StackPanel>

            <!-- Explanation -->
            <StackPanel Grid.Row="1" VerticalAlignment="Center" Margin="0,20">
                <TextBlock Text="Welcome to the Nebula ecosystem." Foreground="#888888" FontSize="13" TextAlignment="Center" FontWeight="SemiBold"/>
                <TextBlock Text="We have unified our authentication via Discord to provide a seamless, free-to-play competitive experience. By linking your profile, you gain access to global leaderboards and community features." 
                           Foreground="#444444" FontSize="11" TextAlignment="Center" TextWrapping="Wrap" Margin="0,10,0,0" LineHeight="16"/>
                
                <!-- Remember Me Toggle -->
                <CheckBox x:Name="RememberMeCheck" IsChecked="True" HorizontalAlignment="Center" Margin="0,15,0,0">
                    <CheckBox.Template>
                        <ControlTemplate TargetType="CheckBox">
                            <StackPanel Orientation="Horizontal" Cursor="Hand">
                                <Border x:Name="CheckBorder" Width="16" Height="16" CornerRadius="4" Background="#11FFFFFF" BorderBrush="#22FFFFFF" BorderThickness="1">
                                    <TextBlock x:Name="CheckMark" Text="âœ“" Foreground="White" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed"/>
                                </Border>
                                <TextBlock Text="Remember me for 30 days" Foreground="#666666" FontSize="10" Margin="8,0,0,0" VerticalAlignment="Center"/>
                            </StackPanel>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                    <Setter TargetName="CheckBorder" Property="Background" Value="#33FFFFFF"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="CheckBorder" Property="BorderBrush" Value="#44FFFFFF"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </CheckBox.Template>
                </CheckBox>
            </StackPanel>

            <!-- Action -->
            <StackPanel Grid.Row="2" HorizontalAlignment="Center">
                <Grid>
                    <Button x:Name="ConfirmButton" Content="PROCEED TO NEBULA" Click="Confirm_Click" IsEnabled="False" Opacity="0.3" 
                            Style="{StaticResource PrimaryButton}" Width="250" Height="45" Background="White" Foreground="Black"/>
                    
                    <Border x:Name="LockOverlay" Width="250" Height="45" Background="Transparent" Visibility="Visible" IsHitTestVisible="False">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock x:Name="CooldownText" Text="Syncing Session (3s)" Foreground="Black" FontSize="11" FontWeight="Bold">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Loaded">
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.3" Duration="0:0:0.8" AutoReverse="True"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </Grid>
            </StackPanel>
        </Grid>
    </Border>
</Window>
